(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=a(o);fetch(o.href,n)}})();let s={x:0,y:0},c={x:0,y:0};window.addEventListener("keydown",e=>{switch(e.key){case"ArrowUp":{if(c.y!==0)break;s={x:0,y:-1};break}case"ArrowDown":{if(c.y!==0)break;s={x:0,y:1};break}case"ArrowLeft":{if(c.x!==0)break;s={x:-1,y:0};break}case"ArrowRight":{if(c.x!==0)break;s={x:1,y:0};break}}console.log(s)});function k(){return c=s,s}const i=[{x:11,y:11},{x:11,y:10},{x:11,y:9}];function g(){const e=k();if(e.x===0&&e.y===0)return;const t={};Object.assign(t,i[0]),t.x+=e.x,t.y+=e.y,i.unshift(t),i.pop()}function E(e){i.forEach((t,a)=>{const r=document.createElement("div");r.style.gridRowStart=t.y,r.style.gridColumnStart=t.x,r.classList.add("snake"),a===0&&r.classList.add("snake-head"),e.appendChild(r)})}function p(){i.push(i[i.length-1])}function w(){return i[0]}function v(){const e=w();return i.some(({x:t,y:a},r)=>r!==0&&t===e.x&&a===e.y)}function h(){let e={x:0,y:0};return e.x=Math.floor(Math.random()*21)+1,e.y=Math.floor(Math.random()*21)+1,e}let d=h();function L(){d=h()}function A(e){const t=document.createElement("div");t.style.gridRowStart=d.y,t.style.gridColumnStart=d.x,t.classList.add("food"),e.appendChild(t)}document.querySelector("#app").innerHTML=`
  <div id='game-board'>
  </div>
  <button id='move'>move</button>
  <button id='grow'>grow</button>
`;const u=document.getElementById("game-board");let f=!1,x=10;const y=21;let m=0;function b(e){if(f){alert("GG!"),window.location="/";return}window.requestAnimationFrame(b),!((e-m)/1e3<1/x)&&(m=e,I(),B())}window.requestAnimationFrame(b);function I(){g(),P()}function B(){u.innerHTML="",E(u),A(u)}const M=document.getElementById("move");M.onclick=()=>{g()};const S=document.getElementById("grow");S.onclick=()=>{p()};const O=document.getElementById("speed");O.onchange=e=>{x=e.target.value};function P(){const e=w();e.x===d.x&&e.y===d.y&&(console.log("eat!"),p(),L()),v()&&(console.log("self collide"),f=!0),(e.x>y||e.x<1||e.y>y||e.y<1)&&(console.log("reach border"),f=!0)}
